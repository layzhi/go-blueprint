# Project {{.ProjectName}}

A Go web application built with go-blueprint using {{.ProjectType}} framework.

## Getting Started

### Prerequisites

- Go 1.21+
- Docker and Docker Compose (for database)
{{- if .AdvancedOptions.react }}
- Node.js 18+ and npm
{{- end }}

### Quick Start

1. Copy `.env.example` to `.env` and configure your environment variables
2. Start the database: `make docker-run`
3. Run the application: `make run`
4. Open http://localhost:8080

## Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `PORT` | Server port | `8080` |
| `APP_ENV` | Application environment | `local` |
| `SHUTDOWN_TIMEOUT` | Graceful shutdown timeout (seconds) | `5` |
{{- if .AdvancedOptions.react }}
| `FRONTEND_PORT` | React frontend port | `5173` |
{{- end }}
{{- if ne .DBDriver "none" }}
| `BLUEPRINT_DB_*` | Database configuration | See `.env.example` |
{{- end }}

## Development

### Structured Logging
This project uses `log/slog` for logging.
- **Local Development**: Logs are output in a human-readable text format.
- **Production**: Logs are output in JSON format for better observability.
- Set `APP_ENV=local` in your `.env` to enable text logging.

{{- if .AdvancedOptions.react }}
### Vite Proxy (React)
The frontend is configured to proxy requests to the backend:
- `http://localhost:5173/api/*` -> `http://localhost:8080/*` (Rewrite: removes `/api` prefix)
- `http://localhost:5173/health` -> `http://localhost:8080/health`
- `http://localhost:5173/websocket` -> `http://localhost:8080/websocket` (WebSocket support enabled)

Use relative paths in your React components (e.g., `fetch('/api/users')`) to automatically target the backend.
{{- end }}

## API Endpoints

| Method | Path | Description |
|--------|------|-------------|
| GET | `/` | Hello World |
| GET | `/health` | Health check |

## MakeFile

Run build make command with tests
```bash
make all
```

Build the application
```bash
make build
```

Run the application
```bash
make run
```

{{- if or .AdvancedOptions.docker (and (ne .DBDriver "none") (ne .DBDriver "sqlite")) }}
Create DB container
```bash
make docker-run
```

Shutdown DB Container
```bash
make docker-down
```

DB Integrations Test:
```bash
make itest
```
{{- end }}

Live reload the application:
```bash
make watch
```

Run the test suite:
```bash
make test
```

Run the linter:
```bash
make lint
```

Clean up binary from the last build:
```bash
make clean
```
